<!doctype html>
<html lang="id" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="theme-color" content="#343a40">
	<link rel="dns-prefetch" href="https://cdnjs.cloudflare.com/">
	<link rel="icon" href="assets/icon.png" type="image/x-icon">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv='cache-control' content='no-cache'>
	<meta http-equiv='expires' content='0'>
	<meta http-equiv='pragma' content='no-cache'>
	<title>JFP – Data Per Wilayah</title>
	<noscript><meta http-equiv="refresh" content="0; url=no-js.html"/></noscript>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/css/bootstrap.min.css" onload="if(media!='all')media='all'">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;400;500;700&display=swap" onload="if(media!='all')media='all'">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-167603452-2"></script>
<script>
window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'UA-167603452-2');
</script>
	<style>
body{font-family:"Roboto",sans-serif;}.logoinc::before,.logodec::before,.logonet::before{display:inline-block;font-size:14px;margin-right:.25rem}.logoinc::before{content:"▲"}.logodec::before{content:"▼"}.logonet::before{content:"–"}.logoright::before{margin-right:0;margin-left:.25rem}.card{overflow:hidden}.anchor{position:absolute;margin-top:-7rem;}#TP_TblHarian td:nth-child(2),#TP_TblHarian td:nth-child(4),#TP_TblHarian td:nth-child(6),#TP_TblHarian td:nth-child(8) {border-left:1px solid #dee2e6}.tbl-iti{width:24px;height:24px;margin-left:.25rem}.flbet{display:flex;justify-content:space-between;align-items:center}.info-kasus small{display:inline-block;width:80px}#ClosedCasesToday,#NewCasesToday{padding-left:1.25rem;margin-bottom:0}
#MapContainer svg{overflow:auto;width:100%}#MapContainer svg path{cursor:pointer}
#MapLegend{z-index:1;position:absolute;left:.5rem;bottom:.5rem;width:250px}
@media (max-width:575.98px) {
    #MapLegend{position:static;border-radius:0;width:100%}
}
</style>
</head>
<body>
	<nav class="navbar navbar-dark sticky-top shadow bg-dark">
		<div class="container d-md-flex justify-content-between text-center">
			<a class="navbar-brand text-truncate">
				JollyFrankle Projects: COVID-19 NTT Tracker
			</a>
			<div class="d-none d-md-block text-light">
				Data terakhir: <strong class="LastData">Memuat...</strong>
			</div>
		</div>
	</nav>
	<main class="container my-4">
<div class="d-block d-md-flex justify-content-between align-items-center mb-4">
	<div>
		<h1>COVID-19 NTT Tracker</h1>
		<p class="mb-0">Perkembangan COVID-19 per Kabupaten/Kota di NTT.</p>
	</div>
</div>

<button class="btn btn-sm btn-danger btn-block mb-3" type="button" data-toggle="collapse" data-target="#ILL_atas" aria-expanded="false" aria-controls="ILL_atas">DISCLAIMER - KLIK DI SINI</button>
<div class="collapse" id="ILL_atas">
	<div class="alert alert-danger text-justify">
		<p><strong>DISCLAIMER:</strong> Data yang ditampilkan pada halaman ini mungkin berbeda dengan data yang disediakan pada <a href="http://covid19.nttprov.go.id/home/data" class="alert-link">halaman resmi COVID-19 NTT</a> karena data yang direkam pada halaman ini diperbarui pada pukul 17.00-21.00 WITA, sedangkan data pada halaman resmi terkadang diperbarui lagi setelah 21.00 WITA. Selain itu, kasus sembuh dan meninggal tidak menunjukkan jumlah pasien yang sembuh/meninggal dari kasus pada tanggal tertentu, melainkan jumlah pasien yang diumumkan sembuh/meninggal pada hari itu juga.</p>
		<p class="font-italic mb-0">Contoh: Apabila seseorang dinyatakan positif pada 19 Januari 2021 dan sembuh pada 1 Februari 2021, kasus sembuh akan bertambah pada 1 Februari 2021, bukan 19 Januari 2021.</p>
		<h5 class="mb-0">HALAMAN INI HANYA VISUALISASI PERKEMBANGAN KASUS COVID-19 DI NTT</h5>
	</div>
</div>

<div class="card mb-4">
	<div class="card-body text-justify">
		<h4 class="border-bottom">Informasi</h4>
		<ul class="pl-4 mb-3">
			<li>Halaman ini memuat daftar kasus per Kabupaten/Kota dari Briefing Satuan Tugas Penanganan COVID-19 Nusa Tenggara Timur. Data mungkin tidak 100% akurat, informasi pada situs Satgas mungkin diperbarui setelah pembaruan data di sistem ini.</li>
			<li>Data kasus tuntas yang ditampilkan di halaman ini adalah <strong>gabungan kasus sembuh dan meninggal</strong> (tidak disebutkan jumlah sembuh/meninggal, hanya disebutkan jumlah pasien yang sudah tidak lagi menjalani perawatan). Untuk informasi mengenai jumlah sembuh atau meninggal berdasarkan Kabupaten/Kota, kunjungi <a href="http://covid19.nttprov.go.id/home/data">situs resmi COVID-19 NTT</a> kemudian memilih Kabupaten/Kota sesuai keinginan Anda.</li>
		</ul>
		<!--<h4 class="border-bottom">Daftar isi</h4>
		<div class="pl-4 mb-3">
			<div class="d-flex align-items-baseline" style="margin-left:-1.5rem">
				<div style="width:1.5rem">1.</div>
				<a class="h5 mb-1" href="#Bg1_Harian">Perkembangan Kasus Harian</a>
			</div>
			Perkembangan kasus COVID-19 harian untuk seluruh Nusa Tenggara Timur selama <span class="GET_day-html">...</span> terakhir. Terdapat pula jumlah pertambahan kasus selama satu pekan tersebut.
		</div>-->
		<h4 class="border-bottom">Halaman lain</h4>
		<div class="pl-4 mb-2">
			<div class="d-flex align-items-baseline" style="margin-left:-1.5rem">
				<div style="width:1.5rem">1.</div>
				<a class="h5 mb-1" href="index.html">Beranda: Analisis dan grafik COVID-19 NTT</a>
			</div>
			Tersedia analisis harian, rekapitulasi data pekanan, dan grafik visualisasi perkembangan kasus COVID-19 Nusa Tenggara Timur.
		</div>
		<div class="pl-4 mb-3">
			<div class="d-flex align-items-baseline" style="margin-left:-1.5rem">
				<div style="width:1.5rem">2.</div>
				<a class="h5 mb-1" href="harian.html">Perkembangan Kasus</a>
			</div>
			Perkembangan kasus hari-demi-hari di Nusa Tenggara Timur.
		</div>
		<h4 class="border-bottom">Daftar Isi</h4>
		<div class="pl-4 mb-2">
			<div class="d-flex align-items-baseline" style="margin-left:-1.5rem">
				<div style="width:1.5rem">1.</div>
				<a class="h5 mb-1" href="#Bg11_Baru">Pertambahan Kasus Baru</a>
			</div>
			Pertambahan kasus baru per <span class="LastData"></span> di wilayah Nusa Tenggara Timur.
		</div>
		<div class="pl-4 mb-2">
			<div class="d-flex align-items-baseline" style="margin-left:-1.5rem">
				<div style="width:1.5rem">2.</div>
				<a class="h5 mb-1" href="#Bg12_Tuntas">Pertambahan Kasus Tuntas</a>
			</div>
			Pertambahan kasus tuntas (sembuh dan meninggal, tanpa dispesifikasi sembuh atau meninggal) per <span class="LastData"></span> di wilayah Nusa Tenggara Timur.
		</div>
		<div class="pl-4">
			<div class="d-flex align-items-baseline" style="margin-left:-1.5rem">
				<div style="width:1.5rem">3.</div>
				<span class="h5 mb-1">Perubahan kasus hari ini per wilayah:</span>
			</div>
		</div>
		<ul id="TOC" style="column-width:185px;margin-left:1.5rem;padding-left:1.25rem;margin-bottom:0;display:none"></ul>
	</div>
</div>

<div class="alert alert-info text-center" style="position:sticky;top:3.5rem;z-index:9">
	<div class="d-inline-block">Data harian <strong class="LastData">Memuat...</strong>,</div>
	<div class="d-inline-block">Terakhir diperbarui <strong class="LastMod">Memuat...</strong></div>
</div>

<div class="position-relative rounded border mb-3">
    <div id="MapContainer" style="background:#C6ECFF" data-zoom-on-wheel="zoom-amount: 0.001; min-scale: 1; max-scale: 10;" data-pan-on-drag >
    </div>
    <div class="alert alert-light small py-2 px-3 mb-0" id="MapLegend">
        <div class="d-flex justify-content-between">
            <span  id="LegIn_Kab">Klik atau arahkan mouse ke sebuah wilayah untuk melihat jumlah penambahan kasus positif hari ini.</span>
            <strong id="LegIn_Num"></strong>
        </div>
        <hr class="my-1"/>
        Jumlah pertambahan kasus positif di NTT hari ini: semakin gelap warna merah, semakin banyak.<br/>
        Untuk saat ini, hanya informasi ini yang dapat ditampilkan. Informasi lain akan diimplementasikan ke peta.<br/>
        Peta diambil dari Wikipedia.
    </div>
</div>

<div class="row">
    <div class="col-md-6 mb-3">
        <div class="anchor" id="Bg11_Baru"></div>
        <div class="card h-100">
            <div class="pb-1" style="background:#BF9000"></div>
            <div class="card-body">
                <h5 class="card-title mb-1">Pertambahan kasus positif</h5>
                <p class="mb-1 text-muted">Kasus terkonfirmasi baru per <span class="LastData">Memuat...</span>.</p>
                <hr class="my-2"/>
                <div class="font-weight-bold flbet" style="color:#BF9000">Nusa Tenggara Timur <span id="KonfIncNTT"></span></div>
                <ul id="NewCasesToday">
                </ul>
            </div>
        </div>
    </div>
    <div class="col-md-6 mb-3">
        <div class="anchor" id="Bg12_Tuntas"></div>
        <div class="card h-100">
            <div class="d-flex">
                <div class="pb-1 w-50" style="background:#002060"></div>
                <div class="pb-1 w-50" style="background:#C00000"></div>
            </div>
            <div class="card-body">
                <h5 class="card-title mb-1">Pertambahan kasus tuntas</h5>
                <p class="mb-1 text-muted">Kasus sembuh/meninggal baru per <span class="LastData">Memuat...</span>.</p>
                <hr class="my-2"/>
                <div class="font-weight-bold flbet" style="color:#002060">Nusa Tenggara Timur <span id="SembIncNTT"></span></div>
                <div class="font-weight-bold flbet" style="color:#C00000">Nusa Tenggara Timur <span id="MengIncNTT"></span></div>
                <ul id="ClosedCasesToday">
                </ul>
            </div>
        </div>
    </div>
</div>
<div class="small pb-3 text-muted text-center">Data kasus tuntas yang ditampilkan di halaman ini adalah <strong>gabungan kasus sembuh dan meninggal</strong> (tidak disebutkan jumlah sembuh/meninggal, hanya disebutkan jumlah pasien yang sudah tidak lagi menjalani perawatan). Untuk informasi mengenai jumlah sembuh atau meninggal berdasarkan Kabupaten/Kota, kunjungi <a href="http://covid19.nttprov.go.id/home/data">situs resmi COVID-19 NTT</a> kemudian memilih Kabupaten/Kota sesuai keinginan Anda.</div>
<section id="SectWil"></section>

<section id="TemplateWilayah" class="d-none">
<div class="anchor" id="$Anchor$"></div>
<div class="card mb-4 overflow-hidden">
    <div class="pb-1 bg-secondary"></div>
    <div class="card-body">
        <h5 class="card-title mb-1">$NamaWil$</h5>
        <div class="row">
            <div class="col-sm-6 col-lg-3 mb-2">
                <h6 class="mb-1" style="color:#BF9000">Jumlah kasus positif:</h6>
                <p class="display-4 mb-1" style="height:calc(100% - 3rem);display:flex;align-items:center;">$TotKonf$</p>
                <hr class="my-1"/>
                <p class="mb-0"><strong>$PerKsNTT$</strong> kasus di NTT</p>
            </div>
            <div class="col-sm-6 col-lg-3 mb-2">
                <h6 class="mb-1">Rincian</h6>
                <div class="text-muted small">Jumlah kasus selama ini</div>
                <hr class="my-1"/>
                <div class="flbet mb-1">
                    <div class="info-kasus"><small>KONFIRMASI:</small> <strong>$TotKonf$</strong></div>
                    <span class="$TotKonfInd$">$TotKonfInc$</span>
                </div>
                <a class="d-block small" type="button" data-toggle="collapse" href="#InfoPSKTot_$Key$" draggable="false">
                    Probable, Suspek, dan Kont. Erat <strong>[KLIK]</strong>
                </a>
                <div id="InfoPSKTot_$Key$" class="collapse pt-1">
                    <div class="flbet mb-1 text-muted">
                        <div class="info-kasus"><small>PROBABLE:</small> <strong>$TotProb$</strong></div>
                        <span class="$TotProbInd$">$TotProbInc$</span>
                    </div>
                    <div class="flbet mb-1 text-muted">
                        <div class="info-kasus"><small>SUSPEK:</small> <strong>$TotSusp$</strong></div>
                        <span class="$TotSuspInd$">$TotSuspInc$</span>
                    </div>
                    <div class="flbet mb-1 text-muted">
                        <div class="info-kasus"><small>KONT. ERAT:</small> <strong>$TotKont$</strong></div>
                        <span class="$TotKontInd$">$TotKontInc$</span>
                    </div>
                </div>
            </div>
            <div class="col-sm-6 col-lg-3 mb-2">
                <h6 class="mb-1">Kasus aktif</h6>
                <div class="text-muted small">Kasus yang masih ditangani</div>
                <hr class="my-1"/>
                <div class="flbet">
                    <div class="info-kasus"><small>KONFIRMASI:</small> <strong>$AktKonf$</strong></div>
                    <span class="$AktKonfInd$">$AktKonfInc$</span>
                </div>
                <div class="flbet mb-1">
                    <small>Persentase Kasus Aktif:</small>
                    <strong>$AktKonfPerc$</strong>
                </div>
                <a class="d-block small" type="button" data-toggle="collapse" href="#InfoPSKAkt_$Key$" draggable="false">
                    Probable, Suspek, dan Kont. Erat <strong>[KLIK]</strong>
                </a>
                <div id="InfoPSKAkt_$Key$" class="collapse pt-1">
                    <div class="flbet mb-1 text-muted">
                        <div class="info-kasus"><small>PROBABLE:</small> <strong>$AktProb$</strong></div>
                        <span class="$AktProbInd$">$AktProbInc$</span>
                    </div>
                    <div class="flbet mb-1 text-muted">
                        <div class="info-kasus"><small>SUSPEK:</small> <strong>$AktSusp$</strong></div>
                        <span class="$AktSuspInd$">$AktSuspInc$</span>
                    </div>
                    <div class="flbet mb-1 text-muted">
                        <div class="info-kasus"><small>KONT. ERAT:</small> <strong>$AktKont$</strong></div>
                        <span class="$AktKontInd$">$AktKontInc$</span>
                    </div>
                </div>
            </div>
            <div class="col-sm-6 col-lg-3 mb-2">
                <h6 class="mb-1">Kasus tuntas</h6>
                <div class="text-muted small">Kasus sembuh/meninggal</div>
                <hr class="my-1"/>
                <div class="flbet mb-1">
                    <div class="info-kasus"><small>KONFIRMASI:</small> <strong>$TunKonf$</strong></div>
                    <span class="$TunKonfInd$">$TunKonfInc$</span>
                </div>
                <a class="d-block small" type="button" data-toggle="collapse" href="#InfoPSKTun_$Key$" draggable="false">
                    Probable, Suspek, dan Kont. Erat <strong>[KLIK]</strong>
                </a>
                <div id="InfoPSKTun_$Key$" class="collapse pt-1">
                    <div class="flbet mb-1 text-muted">
                        <div class="info-kasus"><small>PROBABLE:</small> <strong>$TunProb$</strong></div>
                        <span class="$TunProbInd$">$TunProbInc$</span>
                    </div>
                    <div class="flbet mb-1 text-muted">
                        <div class="info-kasus"><small>SUSPEK:</small> <strong>$TunSusp$</strong></div>
                        <span class="$TunSuspInd$">$TunSuspInc$</span>
                    </div>
                    <div class="flbet mb-1 text-muted">
                        <div class="info-kasus"><small>KONT. ERAT:</small> <strong>$TunKont$</strong></div>
                        <span class="$TunKontInd$">$TunKontInc$</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</section>
<section id="TemplateTOC" class="d-none">
    <li><a href="$Anchor$">$NamaWil$</a></li>
</section>
<div id="TambahanInfo" class="alert mb-0" style="position:sticky; bottom:0; display:none; max-height:6rem">
    <h6 class="mb-1" id="TI_header"></h6>
    <p class="mb-0 small" id="TI_text"></p>
</div>
</main>
<footer class="bg-dark text-light">
	<div class="container p-3">
		<strong>Jolly Frankle @ GitHub</strong>
		<div class="small">Kontak: jollyfrankle3@gmail.com</div>
	</div>
</footer>
<style id="map_style"></style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/svg-pan-zoom-container@0.5.0"></script>
<script>
$.ajax({
	url: "pengumuman.json",
	method: "GET",
	dataType: "json",
	success:function(data)
	{
		if(data.show) {
		    $("#TI_header").html(data.header);
		    $("#TI_text").html(data.text);
		    $("#TambahanInfo").addClass("alert-"+(data.type ?? "info")).show();
		}
	}
});
const delay = ms => new Promise(res=>setTimeout(res,ms));
const NamaBulan = ["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"];
const NamaHari = ["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"];
function NolAwal(num, padlen) {
	var pad_char = '0';
	var pad = new Array(1 + padlen).join(pad_char);
	return (pad + num).slice(-pad.length);
}
function DateIndo(d,mode) {var t=new Date(d);var o="";o=mode==2?NamaHari[t.getDay()]+", " : ""; o+=t.getDate()+" "+NamaBulan[t.getMonth()]+" "+t.getFullYear(); return o;}
$.ajax({
	url:'https://api.github.com/repos/jollyfrankle/jollyfrankle.github.io/commits?path=datakab.js&page=1&per_page=1',
	dataType: "json",
	success: function(data){
		var t=new Date(data[0].commit.author.date);
		TZp=-t.getTimezoneOffset()/60; TZu=NolAwal(Math.floor(TZp),2)+":"+NolAwal(TZp%1*60,2);
		TZp>=0 ? TZ="+"+TZu : TZ=TZu;
		TZ=="+08:00" ? TZc="WITA" :
		TZ=="+07:00" ? TZc="WIB" :
		TZ=="+09:00" ? TZc="WIT" : TZc="(UTC"+TZ+")";
		$(".LastMod").text(DateIndo(t)+", "+NolAwal(t.getHours(),2)+"."+NolAwal(t.getMinutes(),2)+"."+NolAwal(t.getSeconds(),2)+" "+TZc);
	}
});
$.ajax({
    url: "peta-ntt.svg",
    dataType: 'html',
    success: function(data){$("#MapContainer").prepend(data);}
});
$.getScript("datakab.js",AJAX_Complete); $.getScript("data.js",DATAJS_Complete);
function DATAJS_Complete(){
    $("#KonfIncNTT").text("+"+KonfBaru[KonfBaru.length-1]+" ks. baru");
    $("#SembIncNTT").text("+"+SembBaru[SembBaru.length-1]+" sembuh");
    $("#MengIncNTT").text("+"+MengBaru[MengBaru.length-1]+" meninggal");
    $(".LastData").text(DateIndo(Tanggal[Tanggal.length-1]));
}
function AJAX_Complete(){
function getMinMax(arr) {
	let min = arr[0];
	let max = arr[0];
	let i = arr.length;
	while (i--) {
		min = arr[i] < min ? arr[i] : min;
		max = arr[i] > max ? arr[i] : max;
	}
	return { min, max };
}
function rgba2rgb(background, color) {
    const alpha = color[3];
    return "rgba("+Math.floor((1 - alpha) * background[0] + alpha * color[0] + 0.5)+","+
    Math.floor((1 - alpha) * background[1] + alpha * color[1] + 0.5)+","+
    Math.floor((1 - alpha) * background[2] + alpha * color[2] + 0.5)+")";
}

//console.log(rgba2rgb([255, 255, 255], [255, 0, 0, 0.5])) // [ 255, 128, 128 ]

var KonfJuml=null;
$.each(TodTot,function(key,val){
    KonfJuml+=val[3];
});
function ChInd(x,mode)
{
    o1 = x != 0 ? x : "";
    if(mode==1) o2 = x > 0 ? "logoinc text-danger" : x < 0 ? "logodec text-success" : "";
    if(mode==2) o2 = x > 0 ? "logoinc text-success" : x < 0 ? "logodec text-danger" : "";
    return [o1, o2];
}
function compare(a,b) {
  if (a[0] > b[0]) return -1;
  if (a[0] < b[0]) return 1;
  return 0;
}

var KonfBaru=[], TuntBaru=[], H_Konf=0;
$.each(NamaKab,function(key,val) {
    val=val.substr(0,4)!="Kota"?"Kab. "+val:val;
    var SelKonfTot=TodTot[key][3]-YesTot[key][3], SelKonfAkt=TodAkt[key][3]-YesAkt[key][3], SelKonfTun=TodTun[key][3]-YesTun[key][3],
    SelProbTot=TodTot[key][2]-YesTot[key][2], SelProbAkt=TodAkt[key][2]-YesAkt[key][2], SelProbTun=TodTun[key][2]-YesTun[key][2],
    SelSuspTot=TodTot[key][1]-YesTot[key][1], SelSuspAkt=TodAkt[key][1]-YesAkt[key][1], SelSuspTun=TodTun[key][1]-YesTun[key][1],
    SelKontTot=TodTot[key][0]-YesTot[key][0], SelKontAkt=TodAkt[key][0]-YesAkt[key][0], SelKontTun=TodTun[key][0]-YesTun[key][0],
    Input=$("#TemplateWilayah").html()
    .replaceAll("$Key$",key).replaceAll("$NamaWil$",val).replace("$Anchor$","Dati2"+key)
    .replaceAll("$TotKonf$",TodTot[key][3]).replaceAll("$TotProb$",TodTot[key][2]).replaceAll("$TotSusp$",TodTot[key][1]).replaceAll("$TotKont$",TodTot[key][0])
    .replaceAll("$AktKonf$",TodAkt[key][3]).replaceAll("$AktProb$",TodAkt[key][2]).replaceAll("$AktSusp$",TodAkt[key][1]).replaceAll("$AktKont$",TodAkt[key][0])
    .replaceAll("$TunKonf$",TodTun[key][3]).replaceAll("$TunProb$",TodTun[key][2]).replaceAll("$TunSusp$",TodTun[key][1]).replaceAll("$TunKont$",TodTun[key][0])
    .replace("$TotKonfInc$",ChInd(SelKonfTot,1)[0]).replace("$TotKonfInd$",ChInd(SelKonfTot,1)[1])
    .replace("$AktKonfInc$",ChInd(SelKonfAkt,1)[0]).replace("$AktKonfInd$",ChInd(SelKonfAkt,1)[1])
    .replace("$TunKonfInc$",ChInd(SelKonfTun,2)[0]).replace("$TunKonfInd$",ChInd(SelKonfTun,2)[1])
    .replace("$TotProbInc$",ChInd(SelProbTot,1)[0]).replace("$TotProbInd$",ChInd(SelProbTot,1)[1])
    .replace("$AktProbInc$",ChInd(SelProbAkt,1)[0]).replace("$AktProbInd$",ChInd(SelProbAkt,1)[1])
    .replace("$TunProbInc$",ChInd(SelProbTun,2)[0]).replace("$TunProbInd$",ChInd(SelProbTun,2)[1])
    .replace("$TotSuspInc$",ChInd(SelSuspTot,1)[0]).replace("$TotSuspInd$",ChInd(SelSuspTot,1)[1])
    .replace("$AktSuspInc$",ChInd(SelSuspAkt,1)[0]).replace("$AktSuspInd$",ChInd(SelSuspAkt,1)[1])
    .replace("$TunSuspInc$",ChInd(SelSuspTun,2)[0]).replace("$TunSuspInd$",ChInd(SelSuspTun,2)[1])
    .replace("$TotKontInc$",ChInd(SelKontTot,1)[0]).replace("$TotKontInd$",ChInd(SelKontTot,1)[1])
    .replace("$AktKontInc$",ChInd(SelKontAkt,1)[0]).replace("$AktKontInd$",ChInd(SelKontAkt,1)[1])
    .replace("$TunKontInc$",ChInd(SelKontTun,2)[0]).replace("$TunKontInd$",ChInd(SelKontTun,2)[1])
    .replaceAll("$PerKsNTT$",((TodTot[key][3]/KonfJuml)*100).toFixed(2).replace(".",",")+"%")
    .replace("$AktKonfPerc$",((TodAkt[key][3]/TodTot[key][3])*100).toFixed(2).replace(".",",")+"%");
    if(SelKonfTot) KonfBaru.push([SelKonfTot,val]);
    if(SelKonfTun) TuntBaru.push([SelKonfTun,val]);
    H_Konf = SelKonfTot < H_Konf ? H_Konf : SelKonfTot;
    TOC=$("#TemplateTOC").html().replace("$Anchor$","#Dati2"+key).replace("$NamaWil$",val);
    $("#SectWil").append(Input); $("#TOC").append(TOC);
});
async function Delay500(){
    await delay(500);
}
Delay500();
$("#map_style").html("");
$.each(NamaKab,function(key,val){
    $("#map_style").append("#MapContainer path._data"+key+"{fill:"+rgba2rgb([255, 255, 255],[220,53,69,(TodTot[key][3]-YesTot[key][3])/H_Konf])+"!important}");
    $("#MapContainer path._data"+key).data("kode",key);
});
$(document).on("mouseover","#MapContainer svg path",function(){
    $("#LegIn_Kab").text($(this).children("title").text());
    KsBaru = TodTot[$(this).data("kode")][3]-YesTot[$(this).data("kode")][3];
    Ksbaru = KsBaru < 0 ? KsBaru : "+"+KsBaru;
    $("#LegIn_Num").text(Ksbaru+" kasus");
});
$("#TOC").slideDown();;
KonfBaru.sort(compare); TuntBaru.sort(compare);
$.each(KonfBaru,function(key,val) {
    val0 = val[0] < 0 ? val[0] : "+"+val[0];
    $("#NewCasesToday").append("<li style='list-style-type:square'><div class='flbet'>"+val[1]+"<strong>"+val0+"</strong></div></li>");
});
$.each(TuntBaru,function(key,val) {
    val0 = val[0] < 0 ? val[0] : "+"+val[0];
    $("#ClosedCasesToday").append("<li style='list-style-type:square'><div class='flbet'>"+val[1]+"<strong>"+val0+"</strong></div></li>")
});
}
</script>
</body>
</html>
