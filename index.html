<!doctype html>
<html>
<head>
	<title></title>
	<meta charset="utf-8">
	<meta name="theme-color" content="#343a40">
	<link rel="dns-prefetch" href="https://cdnjs.cloudflare.com/">
	<link rel="icon" href="../storage/media/icon.png" type="image/x-icon">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<noscript><meta http-equiv="refresh" content="0; url=../no-js.html"/></noscript>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.21/css/dataTables.bootstrap4.min.css" media="none" onload="if(media!='all')media='all'">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/css/bootstrap.min.css" onload="if(media!='all')media='all'">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" onload="if(media!='all')media='all'">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.css" onload="if(media!='all')media='all'"/>
	<style>
body{font-family:"Roboto",sans-serif;}.chart-container{position:relative; min-width:100%; max-width:100%;}
@media (max-width:576px) {.chart-container{max-height:45vh;}}
</style>
</head>
<body>
	<nav class="navbar navbar-dark sticky-top shadow bg-dark mb-4">
		<div class="container">
			<a class="navbar-brand">
				JollyFrankle Projects
			</a>
		</div>
	</nav>
	<main class="container">
<h1 class="display-4">COVID-19 Tracking</h1>
<p class="lead">Grafik Tracking Kasus COVID-19 NTT harian.</p>
<div class="alert alert-danger">
	<strong>DISCLAIMER:</strong> Sebagian besar data yang disediakan grafik ini akan berbeda dengan data yang disediakan pada <a href="http://covid19.nttprov.go.id/home/data" class="alert-link">halaman resmi COVID-19 NTT</a> karena data yang direkam pada halaman ini diperbarui pada pukul 17.00 - 19.00 WITA, sedangkan data pada halaman resmi terkadang diperbarui lagi setelah 19.00 WITA. Selain itu, kasus sembuh dan meninggal tidak menunjukkan jumlah pasien yang sembuh/meninggal dari kasus pada tanggal tertentu, melainkan jumlah pasien yang diumumkan sembuh/meninggal pada hari itu juga. (Contoh: Apabila seseorang dinyatakan positif pada 19 Januari 2021 dan sembuh pada 1 Februari 2021, kasus sembuh akan bertambah pada 1 Februari 2021, bukan 19 Januari 2021).
</div>
<hr class="my-2"/>
<h4 class="text-center">Jumlah Kasus Positif, Sembuh, dan Meninggal Harian</h4>
<div class="chart-container" style="height:500px;width:600px;">
	<canvas id="ChartKonfirmasi"></canvas>
</div>
<hr class="my-2"/>
<h4 class="text-center">Pertambahan Kasus Baru</h4>
<div class="chart-container" style="height:500px;width:600px;">
	<canvas id="ChartNewKonf"></canvas>
</div>
	</main>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js"></script>
<script src="data.js"></script>
<script>
var url = new URL(window.location.href);
var GET_day = -url.searchParams.get("day");
//var GET_day = -GET_d;
if(!GET_day) var GET_day=-90;

const NamaBulan = ["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"];
const NamaHari = ["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"];
const DefChartOpt = {
		tooltips: {
			enabled: true,
			mode: 'index',
			intersect: false,
			callbacks: {
				title: function(tooltipItems, data) {
					var tgl=new Date(tooltipItems[0].xLabel);
					return tgl.getDate()+" "+NamaBulan[tgl.getMonth()]+" "+tgl.getFullYear()+':';
				}
			}
		},
		hover: {
			mode: "nearest",
			intersect: true
		},
		elements: {
			point:{
				radius: 1
			}
		},
		maintainAspectRatio: false,
		aspectRatio: 1.5,
		defaultFontFamily: "Roboto",
		defaultFontSize: 14,
	};
var C_konf = document.getElementById('ChartKonfirmasi').getContext('2d');
var C_NewKonf = document.getElementById('ChartNewKonf').getContext('2d');
var ChartKonfirmasi = new Chart(C_konf, {
	type: 'line',
	data: {
		labels: Tanggal.slice(GET_day),
		datasets: [{
			label: 'Terkonfirmasi',
			data: KonfJuml.slice(GET_day),
			backgroundColor: 'rgba(0,0,0,0)',
			borderColor: '#BF9000',
			borderWidth: 1
		},
		{
			label: 'Sembuh',
			data: SembJuml.slice(GET_day),
			backgroundColor: 'rgba(0,0,0,0)',
			borderColor: '#002060',
			borderWidth: 1
		},
		{
			label: 'Meninggal',
			data: MengJuml.slice(GET_day),
			backgroundColor: 'rgba(0,0,0,0)',
			borderColor: '#C00000',
			borderWidth: 1
		}]
	},
	options: DefChartOpt 
});
var ChartNewKonf = new Chart(C_NewKonf, {
	type: 'line',
	data: {
		labels: Tanggal.slice(GET_day),
		datasets: [{
			label: 'Kasus baru',
			data: KonfBaru.slice(GET_day),
			backgroundColor: 'rgba(0,0,0,0)',
			borderColor: '#002060',
			borderWidth: 1
		},
		{
			label: 'Rata-rata 7 hari',
			data: Konf7day.slice(GET_day),
			backgroundColor: 'rgba(0,0,0,0)',
			borderColor: '#BF9000',
			borderDash: [10,10],
			borderWidth: 1
		}]
	},
	options: DefChartOpt 
});
</script>
</html>
